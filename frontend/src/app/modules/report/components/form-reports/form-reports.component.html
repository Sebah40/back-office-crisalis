<div class="container d-flex flex-column align-items-center">
  <h1 class="text-center" style="margin-top: 60px; margin-bottom: 40px">
    Informes
  </h1>

  <!-- <div class="btn-group" role="group" aria-label="Basic checkbox toggle button group">

    <input type="checkbox" class="btn-check" name="option" id="btncheck1" autocomplete="off">
    <label class="btn btn-outline-dark" for="btncheck1">Servicio que mayor descuento gener√≥</label>
  
    <input type="checkbox" class="btn-check" name="option" id="btncheck2" autocomplete="off">
    <label class="btn btn-outline-dark" for="btncheck2">Lista de descuentos totales por servicios</label>
  
    <input type="checkbox" class="btn-check" name="option" id="btncheck3" autocomplete="off">
    <label class="btn btn-outline-dark" for="btncheck3">Historial de pedidos discriminado por productos / servicios</label>
  </div> -->

  <div
    class="w-75 container d-flex flex-column justify-content-center my-4 p-0"
  >
    <label id="label-type-inf" class="div-h4 text-center"
      >Tipo de informe</label
    >

    <div class="d-flex justify-content-between">
      <input
        type="radio"
        value="1"
        [(ngModel)]="typeReport"
        class="btn-check"
        name="options-report"
        id="option1"
        autocomplete="off"
        checked
      />
      <label class="btn rounded-0" for="option1"
        >Descuentos totales discriminados por servicios</label
      >
      <input
        type="radio"
        value="2"
        [(ngModel)]="typeReport"
        class="btn-check"
        name="options-report"
        id="option2"
        autocomplete="off"
      />
      <label class="btn rounded-0 reportsbtn" for="option2"
        >Mayor descuento por cliente</label
      >
      <input
        type="radio"
        value="3"
        [(ngModel)]="typeReport"
        class="btn-check"
        name="options-report"
        id="option3"
        autocomplete="off"
      />
      <label class="btn rounded-0" for="option3"
        >Historial discriminado por servicio/producto</label
      >
    </div>

    <div class="div-h4">
      <h5 class="text-center">Filtros para los informes</h5>
    </div>

    <div class="accordion w-100" id="accordionExample">
      <div class="accordion-item">
        <h2 class="accordion-header">
          <button
            class="accordion-button text-center collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseOne"
            aria-expanded="false"
            aria-controls="collapseOne"
          >
            Cliente
          </button>
        </h2>
        <div
          id="collapseOne"
          class="accordion-collapse collapse"
          data-bs-parent="#accordionExample"
        >
          <div
            class="accordion-body d-flex flex-column justify-content-center align-items-center"
          >
            <input
              class="w-50 my-3 rounded-2 p-1 text-center search-bar"
              [(ngModel)]="inputValue"
              (ngModelChange)="searchClient($event)"
              type="text"
              placeholder="Buscar cliente"
            />
            <div
              class="container my-2 table-responsive d-flex flex-column w-100 align-items-center"
              style="max-height: 180px"
              id="client-container"
            >
              <table class="p-2 w-100 table">
                <thead>
                  <tr class="">
                    <th>Nombre / Razon social</th>
                    <th>DNI / CUIT</th>
                    <th>Seleccionar</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="p-2" *ngFor="let client of clientList">
                    <td>{{ client.name }}</td>
                    <td>{{ client.dniOrCuit }}</td>
                    <td>
                      <input
                        type="checkbox"
                        [id]="'checkbox_' + client.id"
                        [(ngModel)]="client.isSelected"
                        (change)="onCheckboxChange(client)"
                      />
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#flush-collapseTwo"
            aria-expanded="false"
            aria-controls="flush-collapseTwo"
          >
            Rango de fechas
          </button>
        </h2>
        <div
          id="flush-collapseTwo"
          class="accordion-collapse collapse"
          data-bs-parent="#accordionFlushExample"
        >
          <div class="accordion-body">
            <div
              class="w-100 container d-flex flex-row justify-content-evenly align-items-center my-3"
            >
              <div
                style="padding-right: 24px; display: flex; flex-direction: row"
              >
                <label class="label-fecha" for="">Desde</label>
                <input
                  [(ngModel)]="dateFrom"
                  type="date"
                  class="input-fecha"
                  name=""
                  id=""
                />
              </div>
              <div style="display: flex; flex-direction: row">
                <label class="label-fecha" for="">Hasta</label>
                <input
                  [(ngModel)]="dateTo"
                  type="date"
                  class="input-fecha"
                  name=""
                  id=""
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="my-5 d-flex justify-content-center">
      <app-button-back path="/home" [isStraight]="true"></app-button-back>
      <button (click)="redirectToReport()" class="generatebutton">
        Generar informe
      </button>
    </div>
  </div>
</div>
